
<h1 class="main-header"
    id="courseName"
    *ngIf="courseName.length > 0 && !isInIframe"
    >
  <span>{{courseName}}</span>
</h1>

<div class="top-vertical-spacer" *ngIf="isInIframe"></div>

<app-to-beginning-button></app-to-beginning-button>

<div class="view-wrapper" *ngIf="isLoaded">

  <h2 class="theme-subheader" i18n="@@Kurssin asetukset">
      Kurssin asetukset
  </h2>

  <h3 class="table-header" i18n="@@Kysymysten lisäkentät">
    Kysymysten lisäkentät
  </h3>

  <p i18n="@@Asetukset-kuvaus">
    Voit asettaa kysymyksille lisäkenttiä, joita kysytään kaikilta uuden kysymyksen
    esittäviltä käyttäjiltä. Lisäkenttiä voi asettaa pakollisiksi, antaa niille
    valmiita vastausvaihtoehtoja sekä kuvaustekstejä. Voit muuttaa lisäkenttien
    esitysjärjestystä muuttamalla alla olevan listan järjestystä. 
  </p>

  <div  cdkDropList
        (cdkDropListDropped)="drop($event)"
        class="list-wrapper"
        *ngIf="errorMessage.length === 0"
        >
    <div class="list-row" *ngFor="let field of fieldList" cdkDrag>
      <!-- <div class="list-row" *ngFor="let field of fieldList" cdkDrag> -->
      <div class="title-column">{{field.otsikko}}</div>
      <div class="info-text-column">{{field.ohje}}</div>
      <a [routerLink]="'/course/' + courseID + '/settings/field/' + field.id" >
        <mat-icon class="edit-icon">edit_indicator</mat-icon>
      </a>
      <mat-icon class="resize-icon">drag_indicator</mat-icon>
    </div>
    <p  class="no-fields-p"
        i18n="@@Yhtään lisäkenttää ei ole lisätty"
        *ngIf="fieldList.length === 0"
        >
      Yhtään lisäkenttää ei ole lisätty.</p>
  </div>

</div>

<app-error-card
    i18n-title="@@Virhe"
    *ngIf="errorMessage.length > 0"
    message="{{ errorMessage }}"
    [styles]="{ margin: '3em 20% 1em 20%' }"
    title="Virhe"
    >
</app-error-card>

<p *ngIf="message.length >0" class="theme-success-message">{{message}}</p>

<div class="theme-actions" *ngIf="errorMessage.length === 0">

  <button class="add-button"
          i18n="@@Lisää kenttä"
          mat-raised-button
          [routerLink]="'/course/' + this.courseID + '/settings/field'"
          >
    Lisää kenttä
  </button>

  <button class="save-button"
          (click)="saveFields()"
          color="primary"
          i18n="@@Tallenna"
          mat-raised-button
          >
    Tallenna
  </button>
</div>

<div class="vertical-spacer"></div>

<form class="invite-form" style="display: none">

  <h2 class="sub-header">Kutsu ulkopuolisia kurssille</h2>

  <p>
    Tästä voit kutsua kurssin ulkopuolisia toimijoita osallistumaan kurssille.
  </p>

  <div class="invite-wrapper">

    <mat-form-field class="invite-field">
      <mat-label i18n="@@Sähköposti">Sähköposti</mat-label>
      <input matInput (value)="inviteEmail">
    </mat-form-field>

    <button class="invite-button"
            color="primary"
            i18n="@@Kutsu"
            mat-raised-button
            >
      Kutsu
    </button>

  </div>
</form>
